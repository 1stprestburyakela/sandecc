<!DOCTYPE html>
<html>

<head>
  <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
  <title>Testing</title>
  <link rel="stylesheet" type="text/css" href="styles/basestyle.css">
  <link rel="stylesheet" type="text/css" href="styles/popup.css">
  <link rel="stylesheet" type="text/css" href="styles/slideshow.css">
</head>

<body>
<script src="js/time.js"></script>
<script src="js/reload.js"></script>
<script src="js/websockets.js"></script>
<script src="js/popup.js"></script>
<script src="js/slideshow.js"></script>

<script src="slides/ClockSlide.js"></script>



<div id="slidetest"></div>

<div id="slidearea"></div>

<div>
 <button type="button" onclick="prev();" >Previous</button><br>
  <button type="button" onclick="next();" >Next</button><br>
</div>
<script>

// Websocket set up
SEW = new SEWebSocket("wss://daleksunited.duckdns.org/se/EchoChamber/echo", true);
SEW.open();
// Connect Websocket to time signal
SEW.addRoute('timeoffset', setTimeOffset);


// Create two pop up boxes - they use the same CSS name, so will appear in the same place (pointless for now)
SEPopup1 = new SEPopup("pop1", "popup");
SEPopup1.displaymessage("hello", 0);

SEPopup2 = new SEPopup("pop2", "popup");
SEPopup2.displaymessage("wibble", 0);

// Add some message routes - popup goes to SEPopup1 (popup.js), reload goes to SEReload (reload.js)
SEW.addRoute('popup', SEPopup1.processJSON.bind(SEPopup1))
SEW.addRoute('reload', SEReload)

// Test a slide
element = document.getElementById("slidetest");
slide = new ClockSlide(-60, "Hello, it's currently {clock} BST"); // -60 is BST
slide.load()
slide.prepareToDisplay(element, function(){});
slide.display();

setTimeout(function(){slide.hide()},5000); 
setTimeout(function(){slide.display()},8000);
//slide.hide();

//slide.unload();

//Slide show test
element = document.getElementById("slidearea");
SESS = new SESlideShow(element, false)


function next()
{
//debugger
SESS.forward();
}

function prev()
{
SESS.backward();
}

</script>







</body>

</html>